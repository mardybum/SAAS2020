{"ast":null,"code":"import _defineProperty from \"/Users/yanrudall/Development/100_Projects/Django/todo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/yanrudall/Development/100_Projects/Django/todo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/yanrudall/Development/100_Projects/Django/todo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yanrudall/Development/100_Projects/Django/todo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yanrudall/Development/100_Projects/Django/todo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yanrudall/Development/100_Projects/Django/todo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yanrudall/Development/100_Projects/Django/todo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/yanrudall/Development/100_Projects/Django/todo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/yanrudall/Development/100_Projects/Django/todo/frontend/src/pages/saas/main.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport TableHeaderColumn from \"react-bootstrap-table-next\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport cellEditFactory from \"react-bootstrap-table2-editor\";\nimport { Button, Card, CardBody, CardHeader, CardTitle, Col, Container, CustomInput, Form, FormGroup, FormText, Input, InputGroup, InputGroupAddon, Label, Row, Table } from \"reactstrap\";\nimport { Edit2, Trash, MinusCircle, PlusCircle } from \"react-feather\";\nimport avatar1 from \"../../assets/img/avatars/avatar.jpg\";\nimport avatar2 from \"../../assets/img/avatars/avatar-2.jpg\";\nimport avatar3 from \"../../assets/img/avatars/avatar-3.jpg\";\nimport avatar4 from \"../../assets/img/avatars/avatar-4.jpg\";\n\nvar PersonList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PersonList, _React$Component);\n\n  function PersonList(props) {\n    var _this;\n\n    _classCallCheck(this, PersonList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PersonList).call(this, props));\n\n    _this.refreshList = function () {\n      axios.get(\"http://localhost:8000/api/todos/\").then(function (res) {\n        return _this.setState({\n          todolist: res.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var itemToBeSubmitted = {\n        title: _this.state.activeItem.title,\n        description: _this.state.activeItem.description,\n        completed: _this.state.activeItem.completed\n      };\n\n      if (itemToBeSubmitted.id) {\n        console.log(itemToBeSubmitted);\n        axios.put(\"http://localhost:8000/api/todos/\".concat(itemToBeSubmitted.id, \"/\"), itemToBeSubmitted).then(function (res) {\n          return _this.refreshList();\n        });\n        return;\n      }\n\n      axios.post(\"http://localhost:8000/api/todos/\", itemToBeSubmitted).then(function (res) {\n        return _this.refreshList();\n      });\n    };\n\n    _this.handleChange = function (e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      if (e.target.type === \"checkbox\") {\n        value = e.target.checked;\n      }\n\n      var activeItem = _objectSpread({}, _this.state.activeItem, _defineProperty({}, name, value));\n\n      _this.setState({\n        activeItem: activeItem\n      });\n    };\n\n    _this.handleDelete = function (item) {\n      axios.delete(\"http://localhost:8000/api/todos/\".concat(item)).then(function (res) {\n        return _this.refreshList();\n      });\n    };\n\n    _this.editItem = function (item) {\n      if (_this.state.todolist[_this.state.todolist.length - 1].id === item.id) {\n        console.log(item);\n        console.log(_this.state.todolist[_this.state.todolist.length - 1].id);\n        axios.put(\"http://localhost:8000/api/todos/\".concat(item.id, \"/\"), item).then(function (res) {\n          return _this.refreshList();\n        });\n        var itemToBeSubmitted = {\n          title: \" \",\n          description: \" \",\n          completed: false\n        };\n        axios.post(\"http://localhost:8000/api/todos/\", itemToBeSubmitted).then(function (res) {\n          return _this.refreshList();\n        });\n      }\n    };\n\n    _this.expandRow = {\n      renderer: function renderer(row) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        });\n      },\n      showExpandColumn: true,\n      expandHeaderColumnRenderer: function expandHeaderColumnRenderer(_ref) {\n        var isAnyExpands = _ref.isAnyExpands;\n        return isAnyExpands ? React.createElement(MinusCircle, {\n          width: 16,\n          height: 16,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }) : React.createElement(PlusCircle, {\n          width: 16,\n          height: 16,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        });\n      },\n      expandColumnRenderer: function expandColumnRenderer(_ref2) {\n        var expanded = _ref2.expanded;\n        return expanded ? React.createElement(MinusCircle, {\n          width: 16,\n          height: 16,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }) : React.createElement(PlusCircle, {\n          width: 16,\n          height: 16,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        });\n      }\n    };\n    _this.tableColumns = [{\n      dataField: \"title\",\n      text: \"title\",\n      sort: true\n    }, {\n      dataField: \"description\",\n      text: \"description\",\n      type: 'textarea',\n      sort: true\n    }, {\n      dataField: 'df1',\n      isDummyField: true,\n      text: 'Action 1',\n      editable: false,\n      formatter: function formatter(cellContent, row) {\n        return React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, React.createElement(Trash, {\n          className: \"align-middle\",\n          type: \"submit\",\n          onClick: function onClick() {\n            return _this.handleDelete(row.id);\n          },\n          size: 18,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }));\n      }\n    }];\n    _this.cellEdit = cellEditFactory({\n      mode: 'click',\n      blurToSave: true,\n      afterSaveCell: function afterSaveCell(oldValue, newValue, row, column) {\n        _this.editItem(row);\n      }\n    });\n\n    _this.PaginationTable = function () {\n      return React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(CardTitle, {\n        tag: \"h5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Pagination\"), React.createElement(\"h6\", {\n        className: \"card-subtitle text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"Pagination by react-bootstrap-table2\")), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(BootstrapTable, {\n        keyField: \"id\",\n        data: _this.state.todolist,\n        columns: _this.tableColumns,\n        deleteRow: true,\n        expandRow: _this.expandRow,\n        bootstrap4: true,\n        cellEdit: _this.cellEdit,\n        bordered: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      })));\n    };\n\n    _this.Renderer = function () {\n      return React.createElement(Container, {\n        fluid: true,\n        className: \"p-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"h3 mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"Tables\"), _this.PaginationTable());\n    };\n\n    _this.state = {\n      activeItem: {\n        title: \"\",\n        description: \"\",\n        completed: false\n      },\n      todolist: []\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(PersonList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(\"http://localhost:8000/api/todos/\").then(function (res) {\n        var todolist = res.data;\n\n        _this2.setState({\n          todolist: todolist\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, this.Renderer());\n    }\n  }]);\n\n  return PersonList;\n}(React.Component);\n\nexport default PersonList;","map":{"version":3,"sources":["/Users/yanrudall/Development/100_Projects/Django/todo/frontend/src/pages/saas/main.js"],"names":["React","axios","BootstrapTable","TableHeaderColumn","ToolkitProvider","paginationFactory","cellEditFactory","Button","Card","CardBody","CardHeader","CardTitle","Col","Container","CustomInput","Form","FormGroup","FormText","Input","InputGroup","InputGroupAddon","Label","Row","Table","Edit2","Trash","MinusCircle","PlusCircle","avatar1","avatar2","avatar3","avatar4","PersonList","props","refreshList","get","then","res","setState","todolist","data","catch","err","console","log","handleSubmit","e","preventDefault","itemToBeSubmitted","title","state","activeItem","description","completed","id","put","post","handleChange","target","name","value","type","checked","handleDelete","item","delete","editItem","length","expandRow","renderer","row","showExpandColumn","expandHeaderColumnRenderer","isAnyExpands","expandColumnRenderer","expanded","tableColumns","dataField","text","sort","isDummyField","editable","formatter","cellContent","cellEdit","mode","blurToSave","afterSaveCell","oldValue","newValue","column","PaginationTable","Renderer","bind","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport TableHeaderColumn from \"react-bootstrap-table-next\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport cellEditFactory from \"react-bootstrap-table2-editor\";\n\n\n\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardHeader,\n  CardTitle,\n  Col,\n  Container,\n  CustomInput,\n  Form,\n  FormGroup,\n  FormText,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  Label,\n  Row,\n  Table\n} from \"reactstrap\";\n\nimport { Edit2, Trash, MinusCircle, PlusCircle  } from \"react-feather\";\n\n\nimport avatar1 from \"../../assets/img/avatars/avatar.jpg\";\nimport avatar2 from \"../../assets/img/avatars/avatar-2.jpg\";\nimport avatar3 from \"../../assets/img/avatars/avatar-3.jpg\";\nimport avatar4 from \"../../assets/img/avatars/avatar-4.jpg\";\n\n\nclass PersonList extends React.Component {\n  constructor(props) {\n        super(props);\n\n        this.state = {\n            activeItem: {\n                title: \"\",\n                description: \"\",\n                completed: false\n            },\n\n            todolist: []\n        };\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    refreshList = () => {\n        axios\n          .get(\"http://localhost:8000/api/todos/\")\n          .then(res => this.setState({ todolist: res.data }))\n          .catch(err => console.log(err));\n    };\n\n    componentDidMount() {\n    axios.get(\"http://localhost:8000/api/todos/\")\n      .then(res => {\n        const todolist = res.data;\n        this.setState({ todolist });\n      })\n    }\n\n\n    handleSubmit = e => {\n\n        e.preventDefault();\n\n        const itemToBeSubmitted = {\n            title: this.state.activeItem.title,\n            description: this.state.activeItem.description,\n            completed: this.state.activeItem.completed\n        };\n\n        if (itemToBeSubmitted.id) {\n            console.log(itemToBeSubmitted)\n          axios\n            .put(`http://localhost:8000/api/todos/${itemToBeSubmitted.id}/`, itemToBeSubmitted)\n            .then(res => this.refreshList());\n          return;\n        }\n\n        axios\n          .post(\"http://localhost:8000/api/todos/\", itemToBeSubmitted)\n          .then(res => this.refreshList());\n    };\n\n    handleChange = e => {\n        let { name, value } = e.target;\n\n        if (e.target.type === \"checkbox\") {\n            value = e.target.checked;\n        }\n\n        const activeItem = { ...this.state.activeItem, [name]: value };\n\n        this.setState({activeItem });\n    };\n\n    handleDelete = item => {\n        axios\n          .delete(`http://localhost:8000/api/todos/${item}`)\n          .then(res => this.refreshList());\n    };\n\n    editItem = item => {\n        if(this.state.todolist[this.state.todolist.length - 1].id === item.id)\n        {\n\n            console.log(item)\n            console.log(this.state.todolist[this.state.todolist.length - 1].id)\n\n            axios\n                .put(`http://localhost:8000/api/todos/${item.id}/`, item)\n                .then(res => this.refreshList());\n\n\n            const itemToBeSubmitted = {\n                    title: \" \",\n                    description: \" \",\n                    completed: false\n             };\n\n            axios\n              .post(\"http://localhost:8000/api/todos/\", itemToBeSubmitted)\n              .then(res => this.refreshList());\n        }\n    };\n\n    expandRow = {\n\n        renderer: row => (\n          <div>\n            {/* Put table here */}\n          </div>\n        ),\n        showExpandColumn: true,\n        expandHeaderColumnRenderer: ({ isAnyExpands }) =>\n          isAnyExpands ? (\n            <MinusCircle width={16} height={16} />\n          ) : (\n            <PlusCircle width={16} height={16} />\n          ),\n        expandColumnRenderer: ({ expanded }) =>\n          expanded ? (\n            <MinusCircle width={16} height={16} />\n          ) : (\n            <PlusCircle width={16} height={16} />\n          )\n    };\n\n\n\n\n\n    tableColumns = [\n      {\n        dataField: \"title\",\n        text: \"title\",\n        sort: true,\n      },\n      {\n        dataField: \"description\",\n        text: \"description\",\n        type: 'textarea' ,\n        sort: true,\n      },\n      {\n        dataField: 'df1',\n        isDummyField: true,\n        text: 'Action 1',\n        editable: false,\n        formatter: (cellContent, row) => {\n\n\n          return (\n              <h5>\n                <Trash className=\"align-middle\" type=\"submit\" onClick={() => this.handleDelete(row.id)} size={18}  />\n              </h5>\n            );\n          }\n      }\n    ];\n\n    cellEdit = cellEditFactory({\n\n        mode: 'click',\n        blurToSave: true,\n        afterSaveCell: (oldValue, newValue, row, column) => {\n            this.editItem(row)\n        }\n    });\n\n\n\n\n    PaginationTable = () => (\n\n        <Card>\n          <CardHeader>\n            <CardTitle tag=\"h5\">Pagination</CardTitle>\n            <h6 className=\"card-subtitle text-muted\">\n              Pagination by react-bootstrap-table2\n            </h6>\n          </CardHeader>\n          <CardBody>\n            <BootstrapTable\n              keyField=\"id\"\n              data={this.state.todolist}\n              columns={this.tableColumns}\n              deleteRow={ true }\n              expandRow={this.expandRow}\n              bootstrap4\n              cellEdit={ this.cellEdit }\n              bordered={false}>\n            </BootstrapTable>\n\n          </CardBody>\n        </Card>\n    );\n\n    Renderer = () => (\n\n        <Container fluid className=\"p-0\">\n            <h1 className=\"h3 mb-3\">Tables</h1>\n      \n            {this.PaginationTable()}\n        </Container>\n\n    );\n\n    render() {\n        return (\n            <div>\n                {this.Renderer()}\n            </div>\n        )\n      }\n    }\n\nexport default PersonList;"]},"metadata":{},"sourceType":"module"}