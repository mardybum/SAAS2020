{"ast":null,"code":"import _classCallCheck from \"/Users/yanrudall/Development/100_Projects/Django/todo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yanrudall/Development/100_Projects/Django/todo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yanrudall/Development/100_Projects/Django/todo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yanrudall/Development/100_Projects/Django/todo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yanrudall/Development/100_Projects/Django/todo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/yanrudall/Development/100_Projects/Django/todo/frontend/src/pages/saas/zone.js\";\nimport ZoneList from './main';\nimport React from \"react\";\nimport axios from \"axios\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport TableHeaderColumn from \"react-bootstrap-table-next\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport cellEditFactory from \"react-bootstrap-table2-editor\";\nimport { Button, Card, CardBody, CardHeader, CardTitle, Col, Container, CustomInput, Form, FormGroup, FormText, Input, InputGroup, InputGroupAddon, Label, Modal, ModalBody, ModalFooter, ModalHeader, Row, Table } from \"reactstrap\";\nimport { Edit2, Trash, MinusCircle, PlusCircle } from \"react-feather\";\n\nvar Zone =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Zone, _React$Component);\n\n  function Zone(props) {\n    var _this;\n\n    _classCallCheck(this, Zone);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Zone).call(this, props));\n\n    _this.refreshList = function () {\n      axios.get(\"http://localhost:8000/api/zone/\").then(function (res) {\n        return _this.setState({\n          zones: res.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.editItem = function (item) {\n      //Check if the user operates on the last row; This is in order to add requirements directly in the last row\n      //of the table\n      if (_this.state.zones[_this.state.zones.length - 1].id === item.id) {\n        console.log(item);\n        console.log(_this.state.zones[_this.state.zones.length - 1].id);\n        axios.put(\"http://localhost:8000/api/zone/\".concat(item.id, \"/\"), item).then(function (res) {\n          return _this.refreshList();\n        });\n        var itemToBeSubmitted = {\n          title: \" \",\n          description: \" \",\n          completed: false\n        };\n        axios.post(\"http://localhost:8000/api/zone/\", itemToBeSubmitted).then(function (res) {\n          return _this.refreshList();\n        });\n      }\n    };\n\n    _this.cellEdit = cellEditFactory({\n      mode: 'click',\n      blurToSave: true,\n      afterSaveCell: function afterSaveCell(oldValue, newValue, row, column) {\n        _this.editItem(row);\n      }\n    });\n    _this.componentTableColumns = [{\n      dataField: \"id\",\n      text: \"ID\",\n      sort: true\n    }, {\n      dataField: \"componentName\",\n      text: \"Component\",\n      type: 'textarea',\n      sort: true\n    }, {\n      dataField: 'df1',\n      isDummyField: true,\n      text: 'Action',\n      editable: false,\n      formatter: function formatter(cellContent, row) {\n        return React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(Trash, {\n          className: \"align-middle\",\n          type: \"submit\",\n          onClick: function onClick() {\n            return _this.handleDelete(row.id);\n          },\n          size: 18,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }));\n      }\n    }];\n\n    _this.componentTable = function () {\n      return React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(CardTitle, {\n        tag: \"h5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Components\")), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(BootstrapTable, {\n        keyField: \"id\",\n        data: _this.state.activeComponent,\n        columns: _this.componentTableColumns,\n        deleteRow: true,\n        bootstrap4: true,\n        cellEdit: _this.cellEdit,\n        bordered: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      })));\n    };\n\n    _this.Tables = function () {\n      return React.createElement(Container, {\n        fluid: true,\n        className: \"p-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, _this.componentTable());\n    };\n\n    _this.state = {\n      activeItem: \"\",\n      zones: [],\n      components: [],\n      activeComponent: []\n    };\n    return _this;\n  }\n\n  _createClass(Zone, [{\n    key: \"componentDidMount\",\n    //Allways called when component initializes\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(\"http://localhost:8000/api/zone/\").then(function (res) {\n        var zones = res.data;\n\n        _this2.setState({\n          zones: zones\n        }); //Find the passed property in the zone array and set it to the active item\n\n\n        _this2.state.activeItem = _this2.state.zones.find(function (element) {\n          return element.id === _this2.props.location.state.id;\n        });\n      });\n      axios.get(\"http://localhost:8000/api/component/\").then(function (res) {\n        var component = res.data;\n\n        _this2.setState({\n          components: component\n        }); //Find the foreign key in the list of the components; The foreign key is passed from the main.js\n        //The foreign key is searched in the \"zone\" element of the components and the foreign key comes from\n        //selected zone\n\n\n        _this2.activeComponent = _this2.state.components.filter(function (compelement) {\n          return compelement.zone === _this2.props.location.state.id;\n        });\n      });\n    } //Edit the last item of a table\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, this.Tables());\n    }\n  }]);\n\n  return Zone;\n}(React.Component);\n\nexport default Zone;","map":{"version":3,"sources":["/Users/yanrudall/Development/100_Projects/Django/todo/frontend/src/pages/saas/zone.js"],"names":["ZoneList","React","axios","BootstrapTable","TableHeaderColumn","ToolkitProvider","paginationFactory","cellEditFactory","Button","Card","CardBody","CardHeader","CardTitle","Col","Container","CustomInput","Form","FormGroup","FormText","Input","InputGroup","InputGroupAddon","Label","Modal","ModalBody","ModalFooter","ModalHeader","Row","Table","Edit2","Trash","MinusCircle","PlusCircle","Zone","props","refreshList","get","then","res","setState","zones","data","catch","err","console","log","editItem","item","state","length","id","put","itemToBeSubmitted","title","description","completed","post","cellEdit","mode","blurToSave","afterSaveCell","oldValue","newValue","row","column","componentTableColumns","dataField","text","sort","type","isDummyField","editable","formatter","cellContent","handleDelete","componentTable","activeComponent","Tables","activeItem","components","find","element","location","component","filter","compelement","zone","Component"],"mappings":"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","sourcesContent":["import ZoneList from './main'\nimport React from \"react\";\nimport axios from \"axios\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport TableHeaderColumn from \"react-bootstrap-table-next\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport cellEditFactory from \"react-bootstrap-table2-editor\";\n\n\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardHeader,\n  CardTitle,\n  Col,\n  Container,\n  CustomInput,\n  Form,\n  FormGroup,\n  FormText,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  Label,\n  Modal,\n  ModalBody,\n  ModalFooter,\n  ModalHeader,\n  Row,\n  Table\n} from \"reactstrap\";\n\n\nimport { Edit2, Trash, MinusCircle, PlusCircle  } from \"react-feather\";\n\n\n\nclass Zone extends React.Component {\n  constructor(props) {\n        super(props);\n\n        this.state = {\n            activeItem: \"\",\n            zones: [],\n            components: [],\n            activeComponent: []\n        };\n    }\n\n    refreshList = () => {\n        axios\n          .get(\"http://localhost:8000/api/zone/\")\n          .then(res => this.setState({ zones: res.data }))\n          .catch(err => console.log(err));\n    };\n\n//Allways called when component initializes\n    componentDidMount() {\n\n        axios.get(\"http://localhost:8000/api/zone/\")\n          .then(res => {\n            const zones = res.data;\n            this.setState({zones: zones });\n\n            //Find the passed property in the zone array and set it to the active item\n            this.state.activeItem = this.state.zones.find(element => element.id === this.props.location.state.id)\n          })\n\n          axios.get(\"http://localhost:8000/api/component/\")\n          .then(res => {\n            const component = res.data;\n            this.setState({components: component });\n\n            //Find the foreign key in the list of the components; The foreign key is passed from the main.js\n            //The foreign key is searched in the \"zone\" element of the components and the foreign key comes from\n            //selected zone\n            this.activeComponent = this.state.components.filter(compelement => compelement.zone === this.props.location.state.id)\n          })\n\n\n    }\n\n    //Edit the last item of a table\n    editItem = item => {\n\n        //Check if the user operates on the last row; This is in order to add requirements directly in the last row\n        //of the table\n        if(this.state.zones[this.state.zones.length - 1].id === item.id)\n        {\n\n            console.log(item)\n            console.log(this.state.zones[this.state.zones.length - 1].id)\n\n            axios\n                .put(`http://localhost:8000/api/zone/${item.id}/`, item)\n                .then(res => this.refreshList());\n\n\n            const itemToBeSubmitted = {\n                    title: \" \",\n                    description: \" \",\n                    completed: false\n             };\n\n            axios\n              .post(\"http://localhost:8000/api/zone/\", itemToBeSubmitted)\n              .then(res => this.refreshList());\n        }\n    };\n\n    //Call the edit item function in order to edit a cell of a table (in this case the last element\n    cellEdit = cellEditFactory({\n\n        mode: 'click',\n        blurToSave: true,\n        afterSaveCell: (oldValue, newValue, row, column) => {\n            this.editItem(row)\n        }\n    });\n\n    componentTableColumns = [\n        {\n            dataField: \"id\",\n            text: \"ID\",\n            sort: true,\n        },\n        {\n            dataField: \"componentName\",\n            text: \"Component\",\n            type: 'textarea' ,\n            sort: true,\n        },\n        {\n            dataField: 'df1',\n            isDummyField: true,\n            text: 'Action',\n            editable: false,\n            formatter: (cellContent, row) => {\n\n\n              return (\n                  <h5>\n                    <Trash className=\"align-middle\" type=\"submit\" onClick={() => this.handleDelete(row.id)} size={18}  />\n                  </h5>\n                );\n              }\n        }\n    ];\n\n\n    componentTable = () => (\n\n        <Card>\n          <CardHeader>\n            <CardTitle tag=\"h5\">Components</CardTitle>\n          </CardHeader>\n          <CardBody>\n            <BootstrapTable\n              keyField=\"id\"\n              data={this.state.activeComponent}\n              columns={this.componentTableColumns}\n              deleteRow={ true }\n              bootstrap4\n              cellEdit={ this.cellEdit }\n              bordered={false}>\n            </BootstrapTable>\n\n          </CardBody>\n        </Card>\n    );\n\n\n    Tables = () => (\n\n        <Container fluid className=\"p-0\">\n\n                {this.componentTable()}\n\n        </Container>\n\n    );\n\n    render() {\n        return (\n            <div>\n                {this.Tables()}\n            </div>\n        )\n      }\n}\n\nexport default Zone;"]},"metadata":{},"sourceType":"module"}